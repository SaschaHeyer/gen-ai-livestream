<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Chronos Daily | Vertex AI Search Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Space+Grotesk:wght@300;400;600;700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Space Grotesk"', 'sans-serif'],
                        mono: ['"Space Mono"', 'monospace'],
                    },
                    colors: {
                        'chronos-black': '#0a0a0a',
                        'chronos-white': '#f4f4f0',
                        'chronos-accent': '#FF4D00', // International Orange
                        'chronos-blue': '#2563EB',
                    },
                    animation: {
                        'marquee': 'marquee 25s linear infinite',
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'waveform': 'waveform 1.2s ease-in-out infinite',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        waveform: {
                            '0%, 100%': { height: '10%' },
                            '50%': { height: '100%' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f4f4f0;
        }
        ::-webkit-scrollbar-thumb {
            background: #0a0a0a;
        }

        .glass-panel {
            background: rgba(244, 244, 240, 0.9);
            backdrop-filter: blur(10px);
        }

        .neo-border {
            border: 2px solid #0a0a0a;
            box-shadow: 4px 4px 0px #0a0a0a;
            transition: all 0.2s ease;
        }

        .neo-border:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0px #0a0a0a;
        }

        .neo-border:active {
            transform: translate(2px, 2px);
            box-shadow: 0px 0px 0px #0a0a0a;
        }

        /* Audio Visualizer Bars */
        .bar {
            width: 6px;
            background: #FF4D00;
            border-radius: 9999px;
            animation: waveform 1s ease-in-out infinite;
        }
        .bar:nth-child(odd) { animation-duration: 0.8s; }
        .bar:nth-child(2n) { animation-duration: 1.1s; }
        .bar:nth-child(3n) { animation-duration: 1.3s; }
        .bar:nth-child(4n) { animation-duration: 0.9s; }

        /* Typography for Articles */
        .prose p {
            margin-bottom: 1.5em;
            line-height: 1.8;
            font-size: 1.125rem;
        }
        .prose h3 {
            font-family: 'Space Mono', monospace;
            font-weight: bold;
            font-size: 1.25rem;
            margin-top: 2em;
            margin-bottom: 1em;
            text-transform: uppercase;
        }
    </style>
</head>
<body class="bg-chronos-white text-chronos-black font-sans antialiased selection:bg-chronos-accent selection:text-white overflow-x-hidden">

    <!-- Breaking News Ticker -->
    <div class="bg-chronos-black text-chronos-white py-2 border-b border-chronos-black font-mono text-xs uppercase overflow-hidden whitespace-nowrap relative z-50">
        <div class="animate-marquee inline-block">
            +++ ORBITAL ELEVATOR CONSTRUCTION HALTED DUE TO SOLAR FLARES +++ SYNTHETIC MEAT PRICES DROP 15% +++ MARS COLONY CELEBRATES 10TH ANNIVERSARY +++ AI SENATE PASSES "RIGHT TO COMPUTE" BILL +++ QUANTUM INTERNET REACHES 99% COVERAGE +++
        </div>
        <div class="animate-marquee inline-block absolute top-2">
             +++ ORBITAL ELEVATOR CONSTRUCTION HALTED DUE TO SOLAR FLARES +++ SYNTHETIC MEAT PRICES DROP 15% +++ MARS COLONY CELEBRATES 10TH ANNIVERSARY +++ AI SENATE PASSES "RIGHT TO COMPUTE" BILL +++ QUANTUM INTERNET REACHES 99% COVERAGE +++
        </div>
    </div>

    <!-- Header -->
    <header class="sticky top-0 z-40 bg-chronos-white border-b-2 border-chronos-black">
        <div class="container mx-auto px-4 py-4">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <!-- Logo -->
                <div class="flex items-center gap-2 cursor-pointer" onclick="app.goHome()">
                    <div class="w-8 h-8 bg-chronos-black flex items-center justify-center text-white font-serif font-bold text-xl">C</div>
                    <h1 class="font-serif text-3xl font-bold tracking-tighter">CHRONOS DAILY</h1>
                    <span class="text-xs font-mono bg-chronos-accent text-white px-1 ml-2">2045 ED.</span>
                </div>

                <!-- Search Bar (The Hero Feature) -->
                <div class="relative w-full md:w-1/2 lg:w-1/3 group">
                    <div class="relative z-20">
                        <input
                            type="text"
                            id="search-input"
                            placeholder="Ask the Archives..."
                            class="w-full bg-white border-2 border-chronos-black p-3 pl-10 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-chronos-accent shadow-[4px_4px_0px_#0a0a0a] transition-all"
                            autocomplete="off"
                        >
                        <i data-lucide="search" class="absolute left-3 top-3.5 w-4 h-4 text-gray-400 group-focus-within:text-chronos-accent"></i>
                        <div class="absolute right-3 top-2">
                            <span class="text-[10px] font-mono bg-gray-200 px-1 rounded text-gray-500 border border-gray-300">VERTEX AI</span>
                        </div>
                    </div>

                    <!-- Autocomplete Dropdown -->
                    <div id="autocomplete-results" class="hidden absolute top-full left-0 right-0 mt-2 bg-white border-2 border-chronos-black shadow-[8px_8px_0px_#0a0a0a] z-10">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Nav -->
                <nav class="hidden md:flex gap-6 font-mono text-sm font-bold">
                    <a href="#" class="hover:text-chronos-accent hover:underline decoration-2 underline-offset-4">POLITICS</a>
                    <a href="#" class="hover:text-chronos-accent hover:underline decoration-2 underline-offset-4">TECH</a>
                    <a href="#" class="hover:text-chronos-accent hover:underline decoration-2 underline-offset-4">OFF-WORLD</a>
                    <button class="flex items-center gap-2 hover:text-chronos-accent">
                        <i data-lucide="user"></i> LOGIN
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container mx-auto px-4 py-8 min-h-screen relative">

        <!-- View: Home Feed -->
        <div id="home-view" class="animate-fade-in">
            <!-- Hero Section -->
            <section class="mb-12 grid grid-cols-1 lg:grid-cols-12 gap-6">
                <div class="lg:col-span-8 neo-border bg-white p-0 relative group cursor-pointer overflow-hidden" onclick="app.viewDetail(1)">
                    <div class="absolute top-4 left-4 z-10 bg-chronos-accent text-white font-mono text-xs px-2 py-1 font-bold">TOP STORY</div>
                    <img src="https://images.unsplash.com/photo-1614726365723-49cfae947584?q=80&w=2570&auto=format&fit=crop" alt="Mars" class="w-full h-[400px] object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                    <div class="p-6 border-t-2 border-chronos-black bg-white relative z-10">
                        <div class="flex items-center gap-2 mb-2 text-xs font-mono text-gray-500">
                            <span>14 MIN AGO</span>
                            <span>•</span>
                            <span>ARTICLE</span>
                        </div>
                        <h2 class="font-serif text-4xl md:text-5xl font-bold mb-4 leading-tight group-hover:text-chronos-accent transition-colors">Terraforming Project Phase 4: The Oceans Return</h2>
                        <p class="font-sans text-lg leading-relaxed border-l-4 border-gray-200 pl-4">
                            Scientists confirm the first stable bodies of water on the Red Planet since the Pre-Collapse era. What this means for real estate prices in the Valles Marineris.
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-4 flex flex-col gap-6">
                    <div class="bg-black text-white p-6 neo-border h-full flex flex-col justify-center cursor-pointer hover:bg-gray-900 transition-colors" onclick="app.viewDetail(3)">
                        <h3 class="font-mono text-chronos-accent mb-2">DAILY BRIEFING</h3>
                        <p class="font-serif text-2xl leading-tight mb-4">"The distinction between virtual and physical reality has officially been dissolved by the UN."</p>
                        <div class="mt-auto pt-4 border-t border-gray-800 flex justify-between items-center font-mono text-xs">
                            <span>AUDIO • 4:20 MIN</span>
                            <button class="bg-white text-black rounded-full p-2 hover:bg-chronos-accent hover:text-white transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                    <div class="bg-white p-6 neo-border h-full relative overflow-hidden cursor-pointer hover:bg-gray-50 transition-colors" onclick="app.viewDetail(1)">
                        <div class="absolute -right-4 -top-4 text-9xl font-serif text-gray-100 z-0">?</div>
                        <h3 class="relative z-10 font-mono text-xs font-bold mb-2 text-gray-500">OPINION</h3>
                        <a href="#" class="relative z-10 font-serif text-2xl font-bold hover:underline decoration-4 decoration-chronos-accent underline-offset-4">Why your AI assistant shouldn't have voting rights (yet).</a>
                    </div>
                </div>
            </section>

            <!-- Mixed Grid -->
            <div class="flex items-end justify-between mb-6 border-b-2 border-black pb-2">
                <h3 class="font-mono text-2xl font-bold uppercase">Latest Feed</h3>
                <div class="flex gap-2">
                    <button class="w-8 h-8 border border-black flex items-center justify-center hover:bg-black hover:text-white transition-colors"><i data-lucide="grid" class="w-4 h-4"></i></button>
                    <button class="w-8 h-8 border border-black flex items-center justify-center hover:bg-black hover:text-white transition-colors"><i data-lucide="list" class="w-4 h-4"></i></button>
                </div>
            </div>

            <div id="content-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Content injected by JS -->
            </div>
        </div>

        <!-- View: Search Results (Hidden by default) -->
        <div id="search-view" class="hidden animate-fade-in">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">

                <!-- Facets Sidebar -->
                <aside class="lg:col-span-3 space-y-8">
                    <div class="sticky top-24">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-mono font-bold text-lg">FILTERS</h3>
                            <button onclick="app.resetFilters()" class="text-xs underline hover:text-chronos-accent">RESET</button>
                        </div>

                        <!-- Filter Group: Media -->
                        <div class="mb-6">
                            <h4 class="font-serif font-bold mb-3 border-b border-gray-300 pb-1">Media Type</h4>
                            <div class="space-y-2 font-mono text-sm">
                                <label class="flex items-center gap-2 cursor-pointer group">
                                    <input type="checkbox" class="accent-chronos-black w-4 h-4" value="article" onchange="app.filterResults()">
                                    <span class="group-hover:text-chronos-accent">Articles</span>
                                    <span class="ml-auto text-gray-400 text-xs">142</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer group">
                                    <input type="checkbox" class="accent-chronos-black w-4 h-4" value="video" onchange="app.filterResults()">
                                    <span class="group-hover:text-chronos-accent">Video</span>
                                    <span class="ml-auto text-gray-400 text-xs">38</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer group">
                                    <input type="checkbox" class="accent-chronos-black w-4 h-4" value="audio" onchange="app.filterResults()">
                                    <span class="group-hover:text-chronos-accent">Audio</span>
                                    <span class="ml-auto text-gray-400 text-xs">19</span>
                                </label>
                            </div>
                        </div>

                        <!-- Filter Group: Category -->
                        <div class="mb-6">
                            <h4 class="font-serif font-bold mb-3 border-b border-gray-300 pb-1">Sector</h4>
                            <div class="space-y-2 font-mono text-sm">
                                <label class="flex items-center gap-2 cursor-pointer group">
                                    <input type="checkbox" class="accent-chronos-black w-4 h-4" value="tech" onchange="app.filterResults()">
                                    <span class="group-hover:text-chronos-accent">Technology</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer group">
                                    <input type="checkbox" class="accent-chronos-black w-4 h-4" value="politics" onchange="app.filterResults()">
                                    <span class="group-hover:text-chronos-accent">Politics</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer group">
                                    <input type="checkbox" class="accent-chronos-black w-4 h-4" value="space" onchange="app.filterResults()">
                                    <span class="group-hover:text-chronos-accent">Off-World</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Results Area -->
                <div class="lg:col-span-9">
                    <!-- Generative AI Summary Box -->
                    <div id="ai-summary" class="hidden mb-8 bg-gray-50 border-2 border-chronos-blue p-6 relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-1 h-full bg-chronos-blue"></div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-chronos-blue text-white flex items-center justify-center rounded shrink-0">
                                <i data-lucide="sparkles"></i>
                            </div>
                            <div>
                                <h3 class="font-mono font-bold text-chronos-blue mb-2 flex items-center gap-2">
                                    GENERATIVE ANSWER
                                    <span class="text-[10px] bg-blue-100 px-1 rounded text-blue-800">BETA</span>
                                </h3>
                                <p id="ai-summary-text" class="font-sans text-lg leading-relaxed text-gray-800">
                                    <!-- Injected Text -->
                                </p>
                                <div class="mt-4 flex gap-2 text-xs font-mono text-gray-500">
                                    <span>Sources:</span>
                                    <a href="#" class="underline hover:text-blue-600">Archive 42</a>
                                    <a href="#" class="underline hover:text-blue-600">Daily Ledger</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Search Stats -->
                    <div class="flex justify-between items-center mb-6 font-mono text-xs text-gray-500">
                        <span id="result-count">Showing 0 results</span>
                        <div class="flex items-center gap-2">
                            <span>SORT BY:</span>
                            <select class="bg-transparent border-b border-gray-300 focus:outline-none text-black" onchange="app.sortResults(this.value)">
                                <option value="relevance">RELEVANCE</option>
                                <option value="date">DATE</option>
                                <option value="views">MOST VIEWED</option>
                            </select>
                        </div>
                    </div>

                    <!-- Results List -->
                    <div id="results-container" class="space-y-6">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- View: Detail Page (Dynamic) -->
        <div id="detail-view" class="hidden animate-fade-in">
            <!-- Injected by JS based on type -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-chronos-black text-white py-12 border-t-4 border-chronos-accent mt-12">
        <div class="container mx-auto px-4 text-center">
            <div class="font-serif text-3xl font-bold mb-6">THE CHRONOS DAILY</div>
            <div class="flex justify-center gap-8 font-mono text-sm mb-8">
                <a href="#" class="hover:text-chronos-accent">ARCHIVES</a>
                <a href="#" class="hover:text-chronos-accent">ADVERTISE</a>
                <a href="#" class="hover:text-chronos-accent">API DOCS</a>
                <a href="#" class="hover:text-chronos-accent">LEGAL</a>
            </div>
            <div class="text-gray-600 text-xs font-mono">
                &copy; 2045 CHRONOS MEDIA GROUP. POWERED BY VERTEX AI SEARCH.
            </div>
        </div>
    </footer>

    <script>
        // --- Mock Database ---
        const database = [
            {
                id: 1,
                title: "Neural Link Implants: The Ethical Dilemma",
                summary: "As adoption rates soar to 40%, legislators struggle to define privacy within the mind. A deep dive into the Cerebral Privacy Act of 2044.",
                category: "tech",
                type: "article",
                date: "2045-10-22",
                image: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=2670&auto=format&fit=crop",
                readTime: "8 min",
                author: "Dr. Sarah Connor"
            },
            {
                id: 2,
                title: "Live from Luna City: Oxygen Rationing Ends",
                summary: "Governor XÆ-12 announces the successful deployment of the Algae-V4 scrubbers. Residents celebrate in the domes.",
                category: "space",
                type: "video",
                date: "2045-10-21",
                image: "https://images.unsplash.com/photo-1541873676-a18131494184?q=80&w=2518&auto=format&fit=crop",
                duration: "12:40",
                views: "1.2M"
            },
            {
                id: 3,
                title: "The Rise of Synthetic Politics",
                summary: "Can an AI run for mayor? In Neo-Tokyo, the answer is yes. Interview with candidate Unit-734.",
                category: "politics",
                type: "audio",
                date: "2045-10-20",
                image: "https://images.unsplash.com/photo-1591453089816-0fbb971b454c?q=80&w=2670&auto=format&fit=crop",
                duration: "45:00",
                host: "Marcus Aurelius II"
            },
            {
                id: 4,
                title: "Quantum Computing for Dummies",
                summary: "Why your standard encryption is obsolete and what to do about it. A survival guide for the digital age.",
                category: "tech",
                type: "article",
                date: "2045-10-19",
                image: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=2670&auto=format&fit=crop",
                readTime: "5 min",
                author: "Cipher Jones"
            },
            {
                id: 5,
                title: "Cyber-Farming: Feeding the Megacities",
                summary: "Vertical farms now produce 80% of the world's caloric intake. We tour the largest tower in New York.",
                category: "tech",
                type: "video",
                date: "2045-10-18",
                image: "https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?q=80&w=2670&auto=format&fit=crop",
                duration: "08:15",
                views: "850K"
            },
            {
                id: 6,
                title: "The Great Data Collapse",
                summary: "Remembering the day the cloud stopped. Historical retrospective on the 2038 outages.",
                category: "politics",
                type: "article",
                date: "2045-10-15",
                image: "https://images.unsplash.com/photo-1516110833967-0b5716ca1387?q=80&w=2574&auto=format&fit=crop",
                readTime: "12 min",
                author: "Archive Bot 9000"
            }
        ];

        // --- App Logic ---
        const app = {
            state: {
                viewHistory: ['home'], // Stack for simple nav
                query: '',
                filters: { type: [], category: [] },
                sort: 'relevance'
            },

            init() {
                lucide.createIcons();
                this.renderHome();
                this.setupEventListeners();
            },

            setupEventListeners() {
                const input = document.getElementById('search-input');
                const autocomplete = document.getElementById('autocomplete-results');

                input.addEventListener('input', (e) => {
                    const val = e.target.value.toLowerCase();
                    if (val.length > 1) {
                        const matches = database.filter(item => item.title.toLowerCase().includes(val));
                        this.renderAutocomplete(matches, val);
                        autocomplete.classList.remove('hidden');
                    } else {
                        autocomplete.classList.add('hidden');
                    }
                });

                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.performSearch(input.value);
                        autocomplete.classList.add('hidden');
                    }
                });

                document.addEventListener('click', (e) => {
                    if (!input.contains(e.target) && !autocomplete.contains(e.target)) {
                        autocomplete.classList.add('hidden');
                    }
                });
            },

            renderAutocomplete(matches, val) {
                const container = document.getElementById('autocomplete-results');
                if (matches.length === 0) {
                    container.innerHTML = `<div class="p-3 text-gray-500 text-sm font-mono">No suggestions found</div>`;
                    return;
                }
                container.innerHTML = matches.map(item => `
                    <div class="p-3 hover:bg-gray-100 cursor-pointer flex items-center gap-3 border-b border-gray-100 last:border-0" onclick="app.viewDetail(${item.id})">
                        <i data-lucide="${this.getIcon(item.type)}" class="w-4 h-4 text-gray-400"></i>
                        <span class="font-sans text-sm font-medium">${item.title}</span>
                    </div>
                `).join('');
                lucide.createIcons();
            },

            goHome() {
                this.hideAllViews();
                document.getElementById('home-view').classList.remove('hidden');
                document.getElementById('search-input').value = '';
                this.state.viewHistory = ['home'];
                window.scrollTo({ top: 0, behavior: 'smooth' });
            },

            goBack() {
                const current = this.state.viewHistory.pop(); // Remove current
                const previous = this.state.viewHistory[this.state.viewHistory.length - 1]; // Peek prev

                if (previous === 'search') {
                    this.hideAllViews();
                    document.getElementById('search-view').classList.remove('hidden');
                } else {
                    this.goHome();
                }
                window.scrollTo({ top: 0, behavior: 'smooth' });
            },

            hideAllViews() {
                document.getElementById('home-view').classList.add('hidden');
                document.getElementById('search-view').classList.add('hidden');
                document.getElementById('detail-view').classList.add('hidden');
            },

            performSearch(query) {
                this.state.query = query;
                this.state.viewHistory.push('search');

                this.hideAllViews();
                document.getElementById('search-view').classList.remove('hidden');

                const summaryBox = document.getElementById('ai-summary');
                const summaryText = document.getElementById('ai-summary-text');

                summaryBox.classList.remove('hidden');
                summaryBox.classList.add('animate-pulse');

                setTimeout(() => {
                    summaryBox.classList.remove('animate-pulse');
                    if (query.toLowerCase().includes('space') || query.toLowerCase().includes('moon') || query.toLowerCase().includes('mars')) {
                        summaryText.innerHTML = `Based on recent reports from <strong>Luna City</strong> and <strong>Mars Colony</strong>, off-world expansion is accelerating. <span class="bg-yellow-200 px-1">Key insight:</span> Real estate prices in Valles Marineris are projected to triple.`;
                    } else if (query.toLowerCase().includes('tech') || query.toLowerCase().includes('ai')) {
                        summaryText.innerHTML = `The intersection of biology and technology is key. <strong>Neural Link</strong> adoption is at 40%. <strong>Quantum Computing</strong> updates are mandatory.`;
                    } else {
                        summaryText.innerHTML = `I found several entries regarding <strong>"${query}"</strong>. Review the specific articles below for detailed timelines and expert analysis.`;
                    }
                }, 800);

                this.filterResults();
            },

            viewDetail(id) {
                const item = database.find(i => i.id === id);
                if(!item) return;

                this.state.viewHistory.push('detail');
                this.hideAllViews();
                const detailContainer = document.getElementById('detail-view');
                detailContainer.classList.remove('hidden');

                if (item.type === 'article') this.renderArticleDetail(item, detailContainer);
                if (item.type === 'video') this.renderVideoDetail(item, detailContainer);
                if (item.type === 'audio') this.renderAudioDetail(item, detailContainer);

                window.scrollTo({ top: 0, behavior: 'smooth' });
                lucide.createIcons();
            },

            // --- DETAIL RENDERERS ---

            renderArticleDetail(item, container) {
                container.innerHTML = `
                    <div class="mb-6">
                        <button onclick="app.goBack()" class="flex items-center gap-2 text-sm font-mono hover:text-chronos-accent">
                            <i data-lucide="arrow-left" class="w-4 h-4"></i> BACK TO FEED
                        </button>
                    </div>

                    <article class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                        <!-- Main Content -->
                        <div class="lg:col-span-8">
                            <header class="mb-8">
                                <div class="flex items-center gap-3 mb-4 font-mono text-xs text-gray-500 uppercase">
                                    <span class="bg-chronos-black text-white px-2 py-1">ARTICLE</span>
                                    <span>${item.category}</span>
                                    <span>//</span>
                                    <span>${item.date}</span>
                                </div>
                                <h1 class="font-serif text-4xl md:text-6xl font-bold leading-tight mb-6">${item.title}</h1>
                                <div class="flex items-center justify-between border-y border-gray-200 py-4">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-gray-200 rounded-full overflow-hidden">
                                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=${item.author}" alt="avatar">
                                        </div>
                                        <div class="text-sm">
                                            <p class="font-bold font-sans">${item.author || 'Unknown Author'}</p>
                                            <p class="text-gray-500 font-mono text-xs">Senior Correspondent</p>
                                        </div>
                                    </div>
                                    <div class="font-mono text-xs text-gray-500 flex gap-4">
                                        <span class="flex items-center gap-1"><i data-lucide="clock" class="w-3 h-3"></i> ${item.readTime}</span>
                                        <button class="hover:text-chronos-accent"><i data-lucide="share-2" class="w-4 h-4"></i></button>
                                    </div>
                                </div>
                            </header>

                            <img src="${item.image}" class="w-full aspect-video object-cover mb-8 neo-border grayscale hover:grayscale-0 transition-all duration-700">

                            <div class="prose font-serif text-gray-800 max-w-none">
                                <p class="first-letter:text-5xl first-letter:font-bold first-letter:mr-3 first-letter:float-left font-sans text-xl leading-relaxed mb-8 text-black font-medium">
                                    ${item.summary} This marks a pivotal moment in our history, defined not by the technology we create, but by how that technology reshapes us.
                                </p>
                                <p>
                                    In the sprawling metropolises of 2045, the line between the organic and the synthetic has never been thinner. Reports from the ground indicate a shift in public sentiment. "It's not about replacing the old," says Dr. Aris Thorne, a leading synth-biologist. "It's about enhancing the substrate of reality itself."
                                </p>
                                <h3>The Data Speaks</h3>
                                <p>
                                    According to the latest Vertex AI analysis of global data streams, efficiency metrics in sectors adopting these new protocols have risen by 300%. However, the human cost—measured in displacement and psychological adaptation stress—remains a hotly debated topic in the Senate.
                                </p>
                                <div class="my-8 p-6 bg-gray-100 border-l-4 border-chronos-accent italic font-serif text-xl">
                                    "We are not just building a future; we are compiling it, line by code, gene by gene."
                                </div>
                                <p>
                                    As we look toward the next quarter, the question remains: will legislation keep pace with innovation? Or are we destined to run on deprecated drivers in a quantum world? Only time—and perhaps the Archives—will tell.
                                </p>
                            </div>
                        </div>

                        <!-- Sidebar -->
                        <aside class="lg:col-span-4 space-y-8">
                            <!-- AI Context Box -->
                            <div class="bg-blue-50 border border-chronos-blue p-6">
                                <h4 class="font-mono text-xs font-bold text-chronos-blue mb-2 flex items-center gap-2">
                                    <i data-lucide="bot" class="w-4 h-4"></i> VERTEX CONTEXT
                                </h4>
                                <p class="font-sans text-sm leading-relaxed mb-4">
                                    This entity <strong>"${item.category}"</strong> has appeared in 12,403 articles this year. Sentiment analysis suggests a <strong>Positive (78%)</strong> public perception, trending upward since the Lunar Treaty.
                                </p>
                                <div class="h-1 w-full bg-blue-200 rounded overflow-hidden">
                                    <div class="h-full bg-chronos-blue w-[78%]"></div>
                                </div>
                            </div>

                            <!-- Related -->
                            <div>
                                <h4 class="font-mono font-bold text-lg mb-4 border-b border-black pb-2">RELATED FILES</h4>
                                <div class="space-y-4">
                                    ${database.filter(i => i.id !== item.id).slice(0,3).map(i => `
                                        <div class="flex gap-4 cursor-pointer group" onclick="app.viewDetail(${i.id})">
                                            <img src="${i.image}" class="w-20 h-20 object-cover neo-border grayscale group-hover:grayscale-0">
                                            <div>
                                                <div class="text-[10px] font-mono bg-black text-white inline-block px-1 mb-1">${i.type.toUpperCase()}</div>
                                                <h5 class="font-serif font-bold leading-tight group-hover:text-chronos-accent text-sm">${i.title}</h5>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </aside>
                    </article>
                `;
            },

            renderVideoDetail(item, container) {
                container.innerHTML = `
                    <div class="mb-6">
                        <button onclick="app.goBack()" class="flex items-center gap-2 text-sm font-mono hover:text-chronos-accent">
                            <i data-lucide="arrow-left" class="w-4 h-4"></i> BACK
                        </button>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                        <!-- Video Player Section -->
                        <div class="lg:col-span-9">
                            <div class="w-full aspect-video bg-black neo-border relative group mb-6 flex items-center justify-center">
                                <img src="${item.image}" class="absolute inset-0 w-full h-full object-cover opacity-60">
                                <button class="relative z-10 w-20 h-20 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform group-hover:bg-chronos-accent group-hover:text-white">
                                    <i data-lucide="play" class="w-8 h-8 fill-current ml-1"></i>
                                </button>
                                <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent text-white flex justify-between items-end">
                                    <div class="font-mono text-xs">LIVE FEED // BUFFERING 99%</div>
                                    <div class="font-mono text-xs">4K • HDR • 360°</div>
                                </div>
                            </div>

                            <div class="flex flex-col md:flex-row md:items-start justify-between gap-4 mb-8">
                                <div>
                                    <h1 class="font-serif text-3xl font-bold mb-2">${item.title}</h1>
                                    <div class="flex items-center gap-4 text-sm text-gray-500 font-mono">
                                        <span>${item.views} VIEWS</span>
                                        <span>•</span>
                                        <span>${item.date}</span>
                                    </div>
                                </div>
                                <div class="flex gap-2">
                                    <button class="px-4 py-2 border border-black font-mono text-sm hover:bg-black hover:text-white flex items-center gap-2">
                                        <i data-lucide="thumbs-up" class="w-4 h-4"></i> LIKE
                                    </button>
                                    <button class="px-4 py-2 border border-black font-mono text-sm hover:bg-black hover:text-white flex items-center gap-2">
                                        <i data-lucide="share-2" class="w-4 h-4"></i> SHARE
                                    </button>
                                </div>
                            </div>

                            <div class="bg-gray-100 p-6 rounded-lg">
                                <h4 class="font-mono font-bold mb-2 text-sm">AI GENERATED TRANSCRIPT (SNIPPET)</h4>
                                <p class="font-sans text-sm text-gray-600 leading-relaxed">
                                    [00:12] ...atmospheric regulators are now operating at 98% efficiency. The council has declared the emergency measures effectively over.
                                    [01:45] Looking at the visuals from Dome 4, you can see the first sprouts of the genetically modified spruce trees taking root in the regolith...
                                </p>
                            </div>
                        </div>

                        <!-- Up Next -->
                        <div class="lg:col-span-3">
                            <h4 class="font-mono font-bold text-lg mb-4">UP NEXT</h4>
                            <div class="space-y-4">
                                ${database.filter(i => i.type === 'video' && i.id !== item.id).map(i => `
                                    <div class="cursor-pointer group" onclick="app.viewDetail(${i.id})">
                                        <div class="relative aspect-video mb-2">
                                            <img src="${i.image}" class="w-full h-full object-cover neo-border group-hover:grayscale-0 grayscale transition-all">
                                            <span class="absolute bottom-1 right-1 bg-black text-white text-[10px] px-1 font-mono">${i.duration}</span>
                                        </div>
                                        <h5 class="font-serif font-bold text-sm leading-tight group-hover:text-chronos-accent">${i.title}</h5>
                                        <div class="text-xs text-gray-500 font-mono mt-1">${i.views} views</div>
                                    </div>
                                `).join('')}
                                 <!-- Dummy fillers for visual balance -->
                                <div class="cursor-pointer group opacity-60 hover:opacity-100">
                                    <div class="relative aspect-video mb-2 bg-gray-300 neo-border flex items-center justify-center">
                                        <i data-lucide="lock" class="w-6 h-6 text-gray-500"></i>
                                    </div>
                                    <h5 class="font-serif font-bold text-sm leading-tight">Subscriber Exclusive: The Dark Web of Mars</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },

            renderAudioDetail(item, container) {
                container.innerHTML = `
                   <div class="mb-6">
                        <button onclick="app.goBack()" class="flex items-center gap-2 text-sm font-mono hover:text-chronos-accent">
                            <i data-lucide="arrow-left" class="w-4 h-4"></i> BACK
                        </button>
                    </div>

                    <div class="max-w-4xl mx-auto">
                        <div class="bg-black text-white p-8 md:p-12 neo-border relative overflow-hidden">
                            <!-- Background visual -->
                            <img src="${item.image}" class="absolute inset-0 w-full h-full object-cover opacity-20 blur-sm">

                            <div class="relative z-10 flex flex-col items-center text-center">
                                <div class="w-48 h-48 mb-8 neo-border bg-gray-800 overflow-hidden relative shadow-2xl">
                                    <img src="${item.image}" class="w-full h-full object-cover">
                                </div>

                                <h1 class="font-serif text-3xl md:text-5xl font-bold mb-4">${item.title}</h1>
                                <p class="font-mono text-chronos-accent mb-8">HOST: ${item.host || 'AI Narrator'}</p>

                                <!-- Visualizer -->
                                <div class="h-16 flex items-center justify-center gap-1 mb-8 w-full max-w-md">
                                    ${Array(20).fill(0).map(() => `<div class="bar h-full w-2 bg-chronos-accent"></div>`).join('')}
                                </div>

                                <!-- Controls -->
                                <div class="w-full max-w-2xl flex flex-col gap-4">
                                    <div class="w-full bg-gray-800 h-1 rounded-full overflow-hidden">
                                        <div class="w-1/3 h-full bg-white"></div>
                                    </div>
                                    <div class="flex items-center justify-between text-xs font-mono text-gray-400">
                                        <span>14:20</span>
                                        <span>${item.duration}</span>
                                    </div>
                                    <div class="flex items-center justify-center gap-6">
                                        <button class="hover:text-chronos-accent"><i data-lucide="skip-back" class="w-6 h-6"></i></button>
                                        <button class="w-12 h-12 bg-white text-black rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                                            <i data-lucide="pause" class="w-5 h-5 fill-current"></i>
                                        </button>
                                        <button class="hover:text-chronos-accent"><i data-lucide="skip-forward" class="w-6 h-6"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Transcript / Notes -->
                        <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-white p-6 neo-border">
                                <h3 class="font-mono font-bold border-b border-black pb-2 mb-4">EPISODE NOTES</h3>
                                <p class="font-sans text-sm leading-relaxed mb-4">${item.summary}</p>
                                <ul class="list-disc list-inside font-mono text-xs space-y-2 text-gray-600">
                                    <li>00:00 - Introduction</li>
                                    <li>05:30 - The Neo-Tokyo Elections</li>
                                    <li>12:45 - Interview with Unit-734</li>
                                    <li>30:20 - Listener Questions</li>
                                </ul>
                            </div>
                            <div class="bg-white p-6 neo-border">
                                <h3 class="font-mono font-bold border-b border-black pb-2 mb-4">REAL-TIME ANALYSIS</h3>
                                <div class="space-y-3">
                                    <div class="bg-gray-100 p-3 text-xs">
                                        <span class="font-bold block text-chronos-blue mb-1">FACT CHECK</span>
                                        Unit-734 was manufactured in 2039, not 2040 as stated by the host.
                                    </div>
                                    <div class="bg-gray-100 p-3 text-xs">
                                        <span class="font-bold block text-chronos-accent mb-1">RELATED TOPIC</span>
                                        See "Synthetics Rights Bill 2042" for legal context.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },

            filterResults() {
                const inputs = document.querySelectorAll('input[type="checkbox"]:checked');
                const activeFilters = Array.from(inputs).map(i => i.value);

                let results = database.filter(item => {
                    const textMatch = item.title.toLowerCase().includes(this.state.query.toLowerCase()) ||
                                      item.summary.toLowerCase().includes(this.state.query.toLowerCase());

                    let typeMatch = true;
                    let catMatch = true;

                    const typeFilters = activeFilters.filter(f => ['article', 'video', 'audio'].includes(f));
                    const catFilters = activeFilters.filter(f => ['tech', 'politics', 'space'].includes(f));

                    if (typeFilters.length > 0) typeMatch = typeFilters.includes(item.type);
                    if (catFilters.length > 0) catMatch = catFilters.includes(item.category);

                    return textMatch && typeMatch && catMatch;
                });

                if (this.state.sort === 'date') {
                    results.sort((a, b) => new Date(b.date) - new Date(a.date));
                }

                this.renderResults(results);
            },

            sortResults(method) {
                this.state.sort = method;
                this.filterResults();
            },

            renderHome() {
                const container = document.getElementById('content-grid');
                container.innerHTML = database.map(item => this.createCard(item)).join('');
                lucide.createIcons();
            },

            renderResults(results) {
                const container = document.getElementById('results-container');
                const countLabel = document.getElementById('result-count');

                countLabel.textContent = `Showing ${results.length} results for "${this.state.query}"`;

                if (results.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-20 border-2 border-dashed border-gray-300">
                            <i data-lucide="database" class="w-12 h-12 mx-auto text-gray-300 mb-4"></i>
                            <h3 class="font-serif text-xl text-gray-500">No records found in the archives.</h3>
                        </div>
                    `;
                } else {
                    container.innerHTML = results.map(item => this.createRow(item)).join('');
                }
                lucide.createIcons();
            },

            createCard(item) {
                return `
                    <div class="neo-border bg-white flex flex-col group cursor-pointer overflow-hidden h-full" onclick="app.viewDetail(${item.id})">
                        <div class="relative overflow-hidden aspect-video">
                            <div class="absolute top-2 left-2 z-10">
                                ${this.getTypeBadge(item.type)}
                            </div>
                            <img src="${item.image}" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                            ${item.type === 'video' || item.type === 'audio' ? `
                                <div class="absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity">
                                    <div class="bg-white rounded-full p-3">
                                        <i data-lucide="play" class="w-6 h-6 text-black fill-black"></i>
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                        <div class="p-5 flex flex-col flex-grow">
                            <div class="flex justify-between items-center mb-2 text-xs font-mono text-gray-500 uppercase">
                                <span>${item.category}</span>
                                <span>${item.date}</span>
                            </div>
                            <h3 class="font-serif text-2xl font-bold leading-tight mb-3 group-hover:text-chronos-accent transition-colors line-clamp-2">${item.title}</h3>
                            <p class="font-sans text-gray-600 text-sm line-clamp-3 mb-4 flex-grow">${item.summary}</p>

                            <div class="pt-4 border-t border-gray-100 flex items-center justify-between font-mono text-xs font-bold">
                                <span>${item.readTime || item.duration}</span>
                                <span class="group-hover:translate-x-1 transition-transform">READ MORE -></span>
                            </div>
                        </div>
                    </div>
                `;
            },

            createRow(item) {
                return `
                    <div class="bg-white p-4 neo-border hover:shadow-[6px_6px_0px_#2563EB] hover:border-chronos-blue transition-all group cursor-pointer flex flex-col md:flex-row gap-6" onclick="app.viewDetail(${item.id})">
                        <div class="w-full md:w-48 aspect-video md:aspect-square shrink-0 relative overflow-hidden border border-black">
                             <img src="${item.image}" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all">
                             <div class="absolute bottom-0 left-0 bg-black text-white text-[10px] font-mono px-2 py-1">
                                ${item.type.toUpperCase()}
                             </div>
                        </div>
                        <div class="flex flex-col justify-between py-1 w-full">
                            <div>
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="bg-gray-200 text-gray-800 px-2 py-0.5 text-[10px] font-mono uppercase font-bold tracking-wider">${item.category}</span>
                                    <span class="text-xs text-gray-500 font-mono">${item.date}</span>
                                </div>
                                <h3 class="font-serif text-2xl font-bold mb-2 group-hover:text-chronos-blue">${item.title}</h3>
                                <p class="font-sans text-sm text-gray-600 leading-relaxed max-w-2xl">${item.summary}</p>
                            </div>
                            <div class="mt-4 flex items-center gap-4 text-xs font-mono text-gray-400">
                                <span class="flex items-center gap-1"><i data-lucide="clock" class="w-3 h-3"></i> ${item.readTime || item.duration}</span>
                                <span class="flex items-center gap-1"><i data-lucide="eye" class="w-3 h-3"></i> ${Math.floor(Math.random() * 5000)} Views</span>
                            </div>
                        </div>
                    </div>
                `;
            },

            getTypeBadge(type) {
                const icons = {
                    article: 'file-text',
                    video: 'video',
                    audio: 'headphones'
                };
                return `
                    <span class="bg-chronos-black text-white px-2 py-1 text-[10px] font-mono uppercase flex items-center gap-1">
                        <i data-lucide="${icons[type]}" class="w-3 h-3"></i> ${type}
                    </span>
                `;
            },

            getIcon(type) {
                const icons = {
                    article: 'file-text',
                    video: 'video',
                    audio: 'headphones'
                };
                return icons[type];
            },

            resetFilters() {
                const checkboxes = document.querySelectorAll('input[type="checkbox"]');
                checkboxes.forEach(cb => cb.checked = false);
                this.filterResults();
            }
        };

        // Start App
        document.addEventListener('DOMContentLoaded', () => app.init());

    </script>
</body>
</html>
