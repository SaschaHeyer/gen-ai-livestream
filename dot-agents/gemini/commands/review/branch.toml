description="Perform a comprehensive code review of all changes on the current branch against its base."
prompt = """
## Context

Before you begin, please identify the current branch for this review.
You will use it in the commands below.

- Current branch: !{git branch --show-current}
- Uncommitted changes: !{git status}
- Commits on this branch: !{git log main..HEAD --oneline}
- All changes on this branch: !{git diff main...HEAD}

## Your task

Perform a comprehensive code review focusing on:

1.  **Code Quality**: Check for readability, maintainability, and adherence to best practices.
2.  **Security**: Look for potential vulnerabilities or security issues.
3.  **Performance**: Identify potential performance bottlenecks.
4.  **Testing**: Assess test coverage and quality.
5.  **Documentation**: Check if code is properly documented.

Provide specific, actionable feedback with line-by-line comments where appropriate.
"""
